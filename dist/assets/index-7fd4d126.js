import{w as o,l as p,d as x,c as m,p as w,f as k,s as v,a as y,t as S,m as I,b as W,e as A,g as C,n as T,h as B,i as q,v as H,j as E}from"./all.min-c3a0fafa.js";import{s as g,u as D,a as r,r as L,b as N,c as h,d as M,e as b,f as R,g as P,h as $,i as j,j as O,k as f,l as z,m as U,n as V,o as F,t as J,p as G,q as K,v as Q,w as X,x as Y,y as Z,z as _,A as ee,B as te}from"./listActions-0d5ee28d.js";const ae=a=>{a.preventDefault();const{target:e}=a,t=e.closest(".list-group-item"),n=+t.dataset.id,l=o.findIndex(({id:c})=>c===n),s=o[l];if(!(!t||!n||l===-1||!s))if(e.dataset.action==="delete")se(t,s,l);else if(e.dataset.action==="check")ne(t,s);else if(e.dataset.action==="edit")oe(e,t,s);else if(e.dataset.action==="hide")le(e,t,s);else if(e.dataset.action==="more-link")localStorage.setItem("selectedWord",JSON.stringify(n)),window.location.href="card.html";else if(e.dataset.action==="write-example")ce(e,t);else if(e.closest("[data-action='edit-example']"))de(e,s);else if(e.closest("[data-action='delete-example']"))pe(e,s);else if(e.dataset.action==="save-new-example-input")ie(e,t,s);else if(e.closest("[data-action='cancel-new-example-input']"))re(e);else return},se=(a,e,t)=>{t!==-1&&(o.splice(t,1),a.remove(),g(p),D(o),r("words",o),L(),x.push(e),r("delWords",x),N(x)),m.length&&h(m),o.length?o.length===w&&P():(g(p),M(o),b(),R())},ne=(a,e)=>{a.classList.toggle("checked"),e.check=!e.check,m.length&&h(m),$(),j(),b(),L(),r("words",o)},le=(a,e,t)=>{if(!a.matches(".hide"))return;const n=a.dataset.hideElement,l=e.querySelector(`.${n}-text`),s=e.querySelector(`button.hide-${n}`);t[n].isHidden?(t[n].isHidden=!1,l.textContent=t[n].text,s.innerHTML='<i class="fas fa-eye-slash"></i> Hide'):(t[n].isHidden=!0,l.textContent="ðŸ˜Š",s.innerHTML='<i class="fas fa-eye"></i> Show'),O(n),r("words",o)},oe=(a,e,t)=>{if(!a.matches(".edit"))return;const n=a.dataset.editElement,l=e.querySelector(`.${n}-text`);if(t[n].isHidden)return;l.contentEditable="true",l.focus();const s=document.createRange(),c=window.getSelection();s.selectNodeContents(l),s.collapse(!1),c.removeAllRanges(),c.addRange(s),l.addEventListener("keydown",i=>{i.keyCode===13&&(i.preventDefault(),l.blur())});function u(i,d){if(d.trim()===t[n].text){l.classList.remove("error"),i.target.contentEditable="false";return}if(f(d.trim())){l.classList.add("error");return}else l.classList.remove("error"),t[n].text=d.trim(),r("words",o),i.target.contentEditable="false"}l.addEventListener("blur",i=>u(i,l.innerText))},ie=(a,e,t)=>{console.log("saveNewListExample");const n=e.querySelector(".examples-wrapper"),l=a.closest(".list-example-input-box"),s=l.querySelector(".new-example-input");if(f(s.value.trim())){s.classList.add("error");return}s.classList.remove("error"),t.examples.push(s.value.trim()),n.insertAdjacentHTML("beforeend",`
		<li class="example-list-item" data-index="${t.examples.length}">
    	<p class="example-text">${s.value.trim()}</p>
    	<button class="btn" data-action="edit-example"><i class="fas fa-pencil-alt"></i></button>
    	<button class="btn" data-action="delete-example" style="color: red;"><i class="fas fa-times-circle"></i></button>
		</li>`),l.remove(),r("words",o)},re=(a,e,t)=>{console.log("cancelNewListExample"),a.closest(".list-example-input-box").remove()},ce=(a,e)=>{const t=e.querySelector(".examples-wrapper"),n=t.closest(".accordion-item").querySelector("button.accordion-button");t.closest(".accordion-item").querySelector(".accordion-collapse").classList.add("show"),n.classList.remove("collapsed"),n.setAttribute("aria-expanded","true"),t.insertAdjacentHTML("afterend",`
		<div class="list-example-input-box d-flex gap-3 pt-2 pb-2">
			<input class="form-control new-example-input" placeholder="Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¸Ð¼ÐµÑ€" >
			<button class="btn btn-danger" data-action="cancel-new-example-input">ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ</button>
			<button class="btn btn-primary" data-action="save-new-example-input">Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ</button>
		</div>
		`),e.querySelectorAll(".new-example-input")[0].focus()},de=(a,e)=>{console.log("editExample");const t=a.closest(".example-list-item"),n=t.querySelector(".example-text"),l=+t.dataset.index;n.contentEditable="true",exampleItem.focus();const s=document.createRange(),c=window.getSelection();s.selectNodeContents(exampleItem),s.collapse(!1),c.removeAllRanges(),c.addRange(s),exampleItem.addEventListener("keydown",i=>{i.keyCode===13&&(i.preventDefault(),exampleItem.blur())});function u(i){const d=e.examples[l];if(d){if(exampleItem.innerText.trim().toLowerCase()===d.toLowerCase()){exampleItem.classList.remove("error"),exampleItem.contentEditable="false";return}if(f(exampleItem.innerText.trim())){exampleItem.classList.add("error");return}else exampleItem.classList.remove("error"),e.examples[l]=exampleItem.innerText.trim(),r("words",o),exampleItem.contentEditable="false"}}exampleItem.addEventListener("blur",u)},pe=(a,e)=>{const t=a.closest(".example-list-item");t.remove(),e.examples.splice(+t.dataset.index,1),r("words",o)};document.addEventListener("DOMContentLoaded",()=>z());k.addEventListener("submit",a=>U(a));p.addEventListener("click",ae);v.addEventListener("input",()=>V(p,v));y.addEventListener("input",F);S.addEventListener("click",()=>J());I.addEventListener("click",()=>G(o));W.addEventListener("click",()=>K(o));A.addEventListener("click",()=>Q(o));C.addEventListener("click",a=>X(a,E));T.addEventListener("click",a=>Y(a,E));B.addEventListener("click",a=>{const{target:e}=a;e.matches(".add-example-btn")&&(e.remove(),Z())});q.forEach(a=>a.addEventListener("click",e=>_(e,o)));document.addEventListener("click",ee);H.addEventListener("input",te);
